{% macro boxStyle(size) %}
<section class='common-loading a-12-bd' id="loading" data-size="{{size}}">
    <style>
        .common-loading {
            position: relative;
            display: inline-block;
        }
        .common-loading-content {
            position: absolute;
        }
        .mmd-loading-wrap {
            animation: mmd-loading-animation-wrap 2.5s linear infinite;
            -webkit-animation: mmd-loading-animation-wrap 2.5s linear infinite;
        }
        .mmd-loading-circle-layout {
            width: 100%;
            height: 100%;
            animation: mmd-loading-animation-circle 3s cubic-bezier(0.4, 0, 0.2, 1) infinite;
            -webkit-animation: mmd-loading-animation-circle 3s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }
        .mmd-loading-layout-left {
            float: left;
            width: 50%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }
        .mmd-loading-layout-right {
            float: right;
            width: 50%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }
        .mmd-loading-circle-left-com {
            position: absolute;
            top: 0;
            left: 0;
            border-style: solid;
            border-radius: 50%;
            transform: rotate(40deg);
            animation: loading-animation-circle-left 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
            -webkit-animation: loading-animation-circle-left 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }
        .mmd-loading-circle-right-com {
            position: absolute;
            top: 0;
            right: 0;
            border-style: solid;
            border-radius: 50%;
            transform: rotate(-310deg);
            animation: loading-animation-circle-right 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
            -webkit-animation: loading-animation-circle-right 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }
        @-moz-keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @-webkit-keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @-o-keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @-moz-keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @-webkit-keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @-o-keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @keyframes loading-animation-circle-left {
            0% {
                transform: rotate(40deg);
            }
            50% {
                transform: rotate(-100deg);
            }
            100% {
                transform: rotate(40deg);
            }
        }
        @-moz-keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @-webkit-keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @-o-keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @-moz-keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @-webkit-keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @-o-keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @keyframes loading-animation-circle-right {
            0% {
                transform: rotate(-310deg);
            }
            50% {
                transform: rotate(-170deg);
            }
            100% {
                transform: rotate(-310deg);
            }
        }
        @-moz-keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @-webkit-keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @-o-keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @-moz-keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @-webkit-keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @-o-keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @keyframes mmd-loading-animation-circle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(180deg);
            }
            50% {
                transform: rotate(360deg);
            }
            75% {
                transform: rotate(540deg);
            }
            100% {
                transform: rotate(720deg);
            }
        }
        @-moz-keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @-webkit-keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @-o-keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @-moz-keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @-webkit-keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @-o-keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        @keyframes mmd-loading-animation-wrap {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    <div class='common-loading-content'>
        <div class='mmd-loading-circle-layout'>
            <!-- 扩出部分 -->
            <div class='mmd-loading-layout-left'>
                <div class='mmd-loading-circle-left mmd-loading-circle-left-com b-4-cl'
                ></div>
            </div>
            <!-- 收起部分 -->
            <div class='mmd-loading-layout-right'>
                <div class='mmd-loading-circle-right mmd-loading-circle-right-com b-4-cl'
                ></div>
            </div>
        </div>
    </div>
    <script>
        (function () {
            const $loading = document.querySelector('#loading');
            const $commonLoadingContent = document.querySelector('.common-loading-content');
            const $left = $loading.querySelector('.mmd-loading-circle-left');
            const $right = $loading.querySelector('.mmd-loading-circle-right');

            const leftStyle = (size) => {
                const bw = Math.round(size / 10);
                const w = size - 2 * bw;
                return {
                    width: `${w}px`,
                    height: `${w}px`,
                    borderWidth: `${bw}px`,
                    borderLeft: `${bw}px solid transparent`,
                    borderBottom: `${bw}px solid transparent`,
                };
            };
            // 收起盒子style
            const rightStyle = (size) => {
                const bw = Math.round(size / 10);
                const w = size - 2 * bw;
                return {
                    width: `${w}px`,
                    height: `${w}px`,
                    borderWidth: `${bw}px`,
                    borderRight: `${bw}px solid transparent`,
                    borderTop: `${bw}px solid transparent`,
                };
            };

            const init = () => {
                const size = $loading.dataset.size;
                $loading.style.width = size + 'px';
                $loading.style.height = size + 'px';
                $commonLoadingContent.style.width = size + 'px';
                $commonLoadingContent.style.height = size + 'px';
                const left = leftStyle(size);
                const right = rightStyle(size);
                Object.keys(left).forEach((item) => {
                    $left.style[item] = left[item];
                });
                Object.keys(right).forEach((item) => {
                    $right.style[item] = left[item];
                });
            };

            init();
        })();
    </script>
</section>
{% endmacro %}
